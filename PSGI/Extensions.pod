=encoding utf-8

=head1 НАЗВАНИЕ

PSGI::Extensions - Расширения PSGI

=head1 Спецификация

PSGI окружение B<МОЖЕТ> включать следующие дополнительные расширения. Они
B<ОПЦИОНАЛЬНЫ> и приложениям и middleware B<СЛЕДУЕТ> проверять их наличие перед
использованием предоставляемого расширениями функционала.

=over 4

=item *

C<psgix.io>: IO-сокет для прямого доступа клиентских соединений к низкоуровневым
операциям. Доступен только когда PSGI серверы запущены как HTTP сервер, и должен
использоваться тогда (и только тогда) когда необходимо выйти за пределы PSGI
абстракций, для реализации протоколов поверх HTTP, например, BOSH или WebSocket.

=item *

C<psgix.input.buffered>: Возвращает булево значение true если тело HTTP запроса
(для POST или PUT запросов) буферизированно с использованием временного файла
или PerlIO в C<psgi.input>. Если значение установлено -- приложение или
middleware компоненты могут безопасно C<читать> из C<psgi.input> без
беспокойства о неблокирующем I/O и могут использовать C<seek> для прозрачного
перехода по входным данным.

=item *

C<psgix.logger>: Интерфейс к логу сообщений. Этот интерфейс принимает один
аргумент в виде ссылки на хэш содержащий сообщение которое необходимо добавить в
лог. Эта ссылка на хэш B<ДОЛЖНА> включать два ключа: C<level> и C<message> где
C<level> B<ДОЛЖЕН> быть одной из следующих строк: C<debug>, C<warn>, C<info>,
C<error> или C<fatal>. C<message> B<ДОЛЖНА> быть простой строкой или скалярной
переменной со строкой.

=item *

C<psgix.session>: Ссылка на хэш для сохранения и получения данных сессии.
Измeнения сделанные с этим хэшем B<СЛЕДУЕТ> сохранять middleware компонентами и
B<СЛЕДУЕТ> восстанавливать при последующих запросах. Сохранение и восстановление
данных сессии, а так же идентификация запрашивающих клиентов зависит от
реализации.

C<psgix.session.options>: Ссылка на хэш сообщающая middleware компонентам как
работать с данными сессии после запроса. Принимаемые ключи и значения зависят от
реализации.

=item *

C<psgix.harakiri>: Возвращает true если PSGI сервер поддерживает режим харакири,
он убивает рабочие процессы (обычно форкнутые процессы) после выполнения
запроса.

C<psgix.harakiri.commit>: Булево значение, устанавливается в true PSGI
приложением или middleware, если они хотят, чтобы сервер закрыл рабочий процесс
после выполнения текущего запроса.

=back

=head1 COPYRIGHT AND LICENSE

Copyright Tatsuhiko Miyagawa, 2009-2011.

This document is licensed under the Creative Commons license by-sa.

=cut
